geom_violin(trim=FALSE)+
scale_x_discrete(limits=c("0","1"))+
labs(title="Years vs Log of Salary")
#Plot1
ggplot(data=df, aes(x=labor_force_part, y=FAMINC)) +
geom_boxplot()+
scale_x_discrete(limits=c("0","1"))+
labs(title="Years vs Log of Salary")
View(df)
#Plot1
ggplot(data=df, aes(x=labor_force_part, y=FAMINC)) +
geom_boxplot()+
scale_x_discrete(limits=c("0","1"))+
labs(title="Family income of families with wife in the workforce vs without wife in the work force")
#Plot1
ggplot(data=df, aes(x=labor_force_part, y=FAMINC)) +
geom_boxplot()+
scale_x_discrete(limits=c("0","1"))+
labs(title="Family income of wife working vs wife not working")
#Plot1
ggplot(data=df, aes(x=labor_force_part, y=FAMINC)) +
geom_boxplot()+
scale_x_discrete(limits=c("0","1"))+
labs(title="Family income if wife works VS. wife doesn't work")
#Plot1
ggplot(data=df, aes(x=labor_force_part, y=FAMINC)) +
geom_boxplot()+
scale_x_discrete(limits=c("0","1"))+
labs(x="Wife's Labor Participation", y = "Family Income",
title="Family income if wife works VS. wife doesn't work")
#==============================================================================
#   3. Analysis section
#==============================================================================
#Descriptive Statistics of Dataset
stargazer(df, type="text", median=TRUE,
digits=2, title="Household Statistics")
#Plot2
ggplot(data=df, aes(x=labor_force_part, y=HW)) +
geom_boxplot()+
scale_x_discrete(limits=c("0","1"))+
labs(x="Wife's Labor Participation", y = "Husband Wage",
title="Family income if wife works VS. wife doesn't work")
#Plot3
ggplot(data=df, aes(x=labor_force_part, y=HHRS)) +
geom_boxplot()+
scale_x_discrete(limits=c("0","1"))+
labs(x="Wife's Labor Participation", y = "Husband Work Hours",
title="Family income if wife works VS. wife doesn't work")
#Plot1
ggplot(data=df, aes(x=labor_force_part, y=FAMINC)) +
geom_boxplot()+
scale_x_discrete(limits=c("0","1"))+
labs(x="Wife's Labor Participation", y = "Family Income",
title="Family income if wife works VS. wife doesn't work")
#Plot2
ggplot(data=df, aes(x=labor_force_part, y=HW)) +
geom_boxplot()+
scale_x_discrete(limits=c("0","1"))+
labs(x="Wife's Labor Participation", y = "Husband Wage",
title="Family income if wife works VS. wife doesn't work")
#Plot3
ggplot(data=df, aes(x=labor_force_part, y=HHRS)) +
geom_boxplot()+
scale_x_discrete(limits=c("0","1"))+
labs(x="Wife's Labor Participation", y = "Husband Work Hours",
title="Family income if wife works VS. wife doesn't work")
#Plot3
ggplot(data=df, aes(x=labor_force_part, y=WA)) +
geom_boxplot()+
scale_x_discrete(limits=c("0","1"))+
labs(x="Wife's Labor Participation", y = "Wife's age",
title="Family income if wife works VS. wife doesn't work")
ggplot(data=df, aes(x=labor_force_part, y=WA)) +
geom_boxplot()+
scale_x_discrete(limits=c("0","1"))+
labs(x="Wife's Labor Participation", y = "Husband's age",
title="Family income if wife works VS. wife doesn't work")
ggplot(data=df, aes(x=labor_force_part, y=HA)) +
geom_boxplot()+
scale_x_discrete(limits=c("0","1"))+
labs(x="Wife's Labor Participation", y = "Husband's age",
title="Family income if wife works VS. wife doesn't work")
#Plot3
ggplot(data=df, aes(x=labor_force_part, y=WA)) +
geom_boxplot()+
scale_x_discrete(limits=c("0","1"))+
labs(x="Wife's Labor Participation", y = "Wife's age",
title="Family income if wife works VS. wife doesn't work")
ggplot(data=df, aes(x=labor_force_part, y=HA)) +
geom_boxplot()+
scale_x_discrete(limits=c("0","1"))+
labs(x="Wife's Labor Participation", y = "Husband's age",
title="Family income if wife works VS. wife doesn't work")
ggplot(data=df, aes(x=labor_force_part, y=WE)) +
geom_boxplot()+
scale_x_discrete(limits=c("0","1"))+
labs(x="Wife's Labor Participation", y = "Husband's age",
title="Family income if wife works VS. wife doesn't work")
ggplot(data=df, aes(x=labor_force_part, y=HE)) +
geom_boxplot()+
scale_x_discrete(limits=c("0","1"))+
labs(x="Wife's Labor Participation", y = "Husband's age",
title="Family income if wife works VS. wife doesn't work")
ggplot(data=df, aes(x=labor_force_part, y=HE)) +
geom_boxplot()+
scale_x_discrete(limits=c("0","1"))+
labs(x="Wife's Labor Participation", y = "Husband's age",
title="Family income if wife works VS. wife doesn't work")
#Plot2
ggplot(data=df, aes(x=labor_force_part, y=HW)) +
geom_boxplot()+
scale_x_discrete(limits=c("0","1"))+
labs(x="Wife's Labor Participation", y = "Husband Wage",
title="Family income if wife works VS. wife doesn't work")
#Plot1
ggplot(data=df, aes(x=labor_force_part, y=FAMINC)) +
geom_boxplot()+
scale_x_discrete(limits=c("0","1"))+
labs(x="Wife's Labor Participation", y = "Family Income",
title="Family income if wife works VS. wife doesn't work")
#Plot2
ggplot(data=df, aes(x=labor_force_part, y=HW)) +
geom_boxplot()+
scale_x_discrete(limits=c("0","1"))+
labs(x="Wife's Labor Participation", y = "Husband Wage",
title="Family income if wife works VS. wife doesn't work")
#Plot3
ggplot(data=df, aes(x=labor_force_part, y=HHRS)) +
geom_boxplot()+
scale_x_discrete(limits=c("0","1"))+
labs(x="Wife's Labor Participation", y = "Husband Work Hours",
title="Family income if wife works VS. wife doesn't work")
#Plot1
ggplot(data=df, aes(x=labor_force_part, y=FAMINC)) +
geom_boxplot()+
scale_x_discrete(limits=c("0","1"))+
labs(x="Wife's Labor Participation", y = "Family Income",
title="Family income if wife works VS. wife doesn't work")
#plot
ggplot(data=df, aes(x=KL6, y=FAMINC)) +
geom_boxplot()+
labs(x="Wife's Labor Participation", y = "Family Income",
title="Family income if wife works VS. wife doesn't work")
#Plot 2
ggplot(data=df, aes(x=KL6, y=FAMINC)) +
geom_point(shape=0)++
labs(x="Wife's Labor Participation", y = "Family Income",
title="Family income if wife works VS. wife doesn't work")
#Plot 2
ggplot(data=df, aes(x=KL6, y=FAMINC)) +
geom_point(shape=0)+
labs(x="Wife's Labor Participation", y = "Family Income",
title="Family income if wife works VS. wife doesn't work")
#Plot 2
ggplot(data=df, aes(x=KL6, y=FAMINC)) +
geom_dotplot()+
labs(x="Wife's Labor Participation", y = "Family Income",
title="Family income if wife works VS. wife doesn't work")
#Plot 2
ggplot(data=df, aes(x=KL6, y=FAMINC)) +
geom_dotplot(binaxis='y', stackdir='center')+
labs(x="Wife's Labor Participation", y = "Family Income",
title="Family income if wife works VS. wife doesn't work")
#Plot 1
ggplot(data=df, aes(x=FAMINC)) +
geom_histogram()+
labs(x="Family Income",title="Family Income Distribution")
#Plot 1
ggplot(data=df, aes(x=FAMINC)) +
geom_histogram(binwidth=1)+
labs(x="Family Income",title="Family Income Distribution")
#Plot 1
ggplot(data=df, aes(x=FAMINC)) +
geom_histogram()+
labs(x="Family Income",title="Family Income Distribution")
#Plot 1
ggplot(data=df, aes(x=FAMINC)) +
geom_histogram(binwidth = 1000)+
labs(x="Family Income",title="Family Income Distribution")
#Plot 1
ggplot(data=df, aes(x=FAMINC)) +
geom_histogram(binwidth = 10000)+
labs(x="Family Income",title="Family Income Distribution")
#Plot 1
ggplot(data=df, aes(x=FAMINC)) +
geom_histogram()+
labs(x="Family Income",title="Family Income Distribution")
#Plot 3
ggplot(data=df, aes(x=KL6, y=FAMINC)) +
geom_dotplot(binaxis='y', stackdir='center')+
labs(x="Wife's Labor Participation", y = "Family Income",
title="Family income if wife works VS. wife doesn't work")
#Plot 3
ggplot(data=df, aes(x=KL6, y=FAMINC)) +
geom_point(binaxis='y', stackdir='center')+
labs(x="Wife's Labor Participation", y = "Family Income",
title="Family income if wife works VS. wife doesn't work")
#Plot 3
ggplot(data=df, aes(x=KL6, y=FAMINC)) +
geom_point()+
labs(x="Wife's Labor Participation", y = "Family Income",
title="Family income if wife works VS. wife doesn't work")
#Plot 3
ggplot(data=df, aes(x=KL6, y=FAMINC)) +
geom_point()+
labs(x="Wife's Labor Participation", y = "Family Income",
title="Family income if wife works VS. wife doesn't work")
#Plot 3
ggplot(data=df, aes(x=KL6, y=FAMINC)) +
geom_col()+
labs(x="Wife's Labor Participation", y = "Family Income",
title="Family income if wife works VS. wife doesn't work")
#Plot 3
ggplot(data=df, aes(x=KL6, y=FAMINC)) +
geom_col()+
labs(x="Number of kids below 6 years old", y = "Family Income",
title="Kids below 6 years old on Family Income")
#Plot 3
ggplot(data=df, aes(x=factor(KL6), y=FAMINC)) +
geom_boxplot()+
labs(x="Number of kids below 6 years old", y = "Family Income",
title="Kids below 6 years old on Family Income")
#Plot 2
ggplot(data=df, aes(x=labor_force_part, y=FAMINC)) +
geom_boxplot()+
scale_x_discrete(limits=c("0","1"))+
labs(x="Wife's Labor Participation", y = "Family Income",
title="Family income if wife works VS. wife doesn't work")
#Plot 2
ggplot(data=df, aes(x=factor(labor_force_part), y=FAMINC)) +
geom_boxplot()+
labs(x="Wife's Labor Participation", y = "Family Income",
title="Family income if wife works VS. wife doesn't work")
#==============================================================================
#   1. Setup section
#==============================================================================
rm(list = ls())
function (x, df1, df2, ncp, log = FALSE)
{
if (missing(ncp))
.Call(C_df, x, df1, df2, log)
else .Call(C_dnf, x, df1, df2, ncp, log)
}
library(foreign)
library(car)
library(tidyverse)
library(readstata13)
library(sandwich)
library(stargazer)
library(WDI)
library(haven)
library(ggplot2)
setwd("~/Desktop/econ42/final")
# turn off scientific notation except for big numbers
options(scipen = 9)
# function to calculate corrected SEs for regression
cse = function(reg) {
rob = sqrt(diag(vcovHC(reg, type = "HC1")))
return(rob)
}
df <- read.csv("http://www.stern.nyu.edu/~wgreene/Text/Edition7/TableF5-1.csv")
df <- df %>% rename(labor_force_part=LFP)
#==============================================================================
#   3. Analysis section
#==============================================================================
#Descriptive Statistics of Dataset
stargazer(df, type="text", median=TRUE,
digits=2, title="Household Statistics")
#Plot 1
ggplot(data=df, aes(x=FAMINC)) +
geom_histogram()+
labs(x="Family Income",title="Family Income Distribution")
#Plot 2
ggplot(data=df, aes(x=factor(labor_force_part), y=FAMINC)) +
geom_boxplot()+
labs(x="Wife's Labor Participation", y = "Family Income",
title="Family income if wife works VS. wife doesn't work")
#Plot 3
ggplot(data=df, aes(x=factor(KL6), y=FAMINC)) +
geom_boxplot()+
labs(x="Number of kids below 6 years old", y = "Family Income",
title="Kids below 6 years old on Family Income")
#Regressions
reg1 = lm(data=mlb1,salary_log~years)
#Plot 1
ggplot(data=df, aes(x=FAMINC)) +
geom_histogram()+
labs(x="Family Income",title="Family Income Distribution")
#Plot 2
ggplot(data=df, aes(x=factor(labor_force_part), y=FAMINC)) +
geom_boxplot()+
labs(x="Wife's Labor Participation", y = "Family Income",
title="Family income if wife works VS. wife doesn't work")
#Plot 3
ggplot(data=df, aes(x=factor(KL6), y=FAMINC)) +
geom_boxplot()+
labs(x="Number of kids below 6 years old", y = "Family Income",
title="Kids below 6 years old on Family Income")
#Plot 4
ggplot(data=df, aes(x=factor(KL618), y=FAMINC)) +
geom_boxplot()+
labs(x="Number of kids below 6 years old", y = "Family Income",
title="Kids below 6 years old on Family Income")
#Plot 3
ggplot(data=df, aes(x=factor(KL6), y=FAMINC)) +
geom_boxplot()+
labs(x="Number of kids below 6 years old", y = "Family Income",
title="Kids below 6 years old on Family Income")
#Plot 4
ggplot(data=df, aes(x=factor(K618), y=FAMINC)) +
geom_boxplot()+
labs(x="Number of kids below 6 years old", y = "Family Income",
title="Kids below 6 years old on Family Income")
#Plot 4
ggplot(data=df, aes(x=factor(K618), y=FAMINC)) +
geom_boxplot()+
labs(x="Number of kids between 6 years old and 18 years old", y = "Family Income",
title="Kids between 6 and 18 on Family Income")
#Plot 5
ggplot(data=df, aes(x=factor(WE), y=FAMINC)) +
geom_boxplot()+
labs(x="Wife Education Level in Years", y = "Family Income",
title="Wife's Education on Family Income")
#Plot 6
ggplot(data=df, aes(x=factor(HE), y=FAMINC)) +
geom_boxplot()+
labs(x="Husband Education Level in Years", y = "Family Income",
title="Kids between 6 and 18 on Family Income")
#Plot 3
ggplot(data=df, aes(x=factor(KL6), y=FAMINC)) +
geom_boxplot()+
labs(x="Number of kids below 6 years old", y = "Family Income",
title="Kids below 6 years old on Family Income")
#Plot 4
ggplot(data=df, aes(x=factor(K618), y=FAMINC)) +
geom_boxplot()+
labs(x="Number of kids between 6 years old and 18 years old", y = "Family Income",
title="Kids between 6 and 18 on Family Income")
#Plot 5
ggplot(data=df, aes(x=factor(WE), y=FAMINC)) +
geom_violin(scale = "area")+
labs(x="Wife Education Level in Years", y = "Family Income",
title="Wife's Education on Family Income")
#Plot 5
ggplot(data=df, aes(x=factor(WE), y=FAMINC)) +
geom_boxplot()+
labs(x="Wife Education Level in Years", y = "Family Income",
title="Wife's Education on Family Income")
#Plot 6
ggplot(data=df, aes(x=factor(HE), y=FAMINC)) +
geom_boxplot()+
labs(x="Husband Education Level in Years", y = "Family Income",
title="Husband Education on Family Income")
***
#Regressions
reg1 = lm(data=subset(df, labor_force_part==0),FAMINC~KL6+K618)
#Descriptive Statistics for Regressions
stargazer(reg1, reg2, reg3,reg4,
se=list(cse(reg1),cse(reg2),cse(reg3),cse(reg4)),
title="Multivariable Linear Regression with labor_force_part=0", type="text",
df=FALSE, digits=4)
#Regressions
reg1 = lm(data=subset(df, labor_force_part==0),FAMINC~KL6+K618)
reg2 = lm(data=subset(df, labor_force_part==0),FAMINC~KL6+K618+HE)
reg3 = lm(data=subset(df, labor_force_part==0),FAMINC~KL6+K618+HE+UN)
reg4 = lm(data=subset(df, labor_force_part==0),FAMINC~KL6+K618+HE+UN+CIT)
#Regressions
reg1 = lm(data=subset(df, labor_force_part=0),FAMINC~KL6+K618)
#Regressions
reg1 = lm(data=subset(df, labor_force_part==0),FAMINC~KL6+K618)
reg2 = lm(data=subset(df, labor_force_part==0),FAMINC~KL6+K618+HE)
reg3 = lm(data=subset(df, labor_force_part==0),FAMINC~KL6+K618+HE+UN)
reg4 = lm(data=subset(df, labor_force_part==0),FAMINC~KL6+K618+HE+UN+CIT)
#Descriptive Statistics for Regressions
stargazer(reg1, reg2, reg3,reg4,
se=list(cse(reg1),cse(reg2),cse(reg3),cse(reg4)),
title="Multivariable Linear Regression with labor_force_part=0", type="text",
df=FALSE, digits=4)
#Regressions for regression table 1
reg1 = lm(data=subset(df, labor_force_part==0),log(FAMINC)~KL6+K618)
reg2 = lm(data=subset(df, labor_force_part==0),log(FAMINC)~KL6+K618+HE)
reg3 = lm(data=subset(df, labor_force_part==0),log(FAMINC)~KL6+K618+HE+UN)
reg4 = lm(data=subset(df, labor_force_part==0),log(FAMINC)~KL6+K618+HE+UN+CIT)
#Descriptive Statistics for Regressions
stargazer(reg1, reg2, reg3,reg4,
se=list(cse(reg1),cse(reg2),cse(reg3),cse(reg4)),
title="Multivariable Linear Regression with labor_force_part=0", type="text",
df=FALSE, digits=4)
stargazer(reg5, reg6,
se=list(cse(reg5),cse(reg6)),
title="Log-linear  Multivariable Linear Regression with labor_force_part=1 including Interaction Term", type="text",
df=FALSE, digits=4)
#Regressions for regression table 2
reg5 = lm(data=subset(df, labor_force_part==1),log(FAMINC)~HE+WE+CIT)
reg6 = lm(data=subset(df, labor_force_part==1),log(FAMINC)~HE+WE+CIT+ AX+WE*AX)
stargazer(reg5, reg6,
se=list(cse(reg5),cse(reg6)),
title="Log-linear  Multivariable Linear Regression with labor_force_part=1 including Interaction Term", type="text",
df=FALSE, digits=4)
View(df)
#Regressions for regression table 2
reg5 = lm(data=subset(df, labor_force_part==1),log(FAMINC)~HE+WE+CIT)
reg6 = lm(data=subset(df, labor_force_part==1),log(FAMINC)~HE+WE+CIT+AX+WE*AX)
stargazer(reg5, reg6,
se=list(cse(reg5),cse(reg6)),
title="Log-linear  Multivariable Linear Regression with labor_force_part=1 including Interaction Term", type="text",
df=FALSE, digits=4)
reg5 = lm(data=subset(df, labor_force_part==1),log(FAMINC)~KL6+K618+HE+WE+CIT)
#Regression table 2
stargazer(reg5, reg6,
se=list(cse(reg5),cse(reg6)),
title="Log-linear  Multivariable Linear Regression with labor_force_part=1 including Interaction Term", type="text",
df=FALSE, digits=4)
#Regressions for regression table 2
reg5 = lm(data=subset(df, labor_force_part==1),log(FAMINC)~KL6+K618+HE+WE+CIT)
reg6 = lm(data=subset(df, labor_force_part==1),log(FAMINC)~KL6+K618+HE+WE+CIT+AX+WE*AX)
#Regression table 2
stargazer(reg5, reg6,
se=list(cse(reg5),cse(reg6)),
title="Log-linear  Multivariable Linear Regression with labor_force_part=1 including Interaction Term", type="text",
df=FALSE, digits=4)
#==============================================================================
#   1. Setup section
#==============================================================================
rm(list = ls())
function (x, df1, df2, ncp, log = FALSE)
{
if (missing(ncp))
.Call(C_df, x, df1, df2, log)
else .Call(C_dnf, x, df1, df2, ncp, log)
}
#==============================================================================
#   1. Setup section
#==============================================================================
rm(list = ls())
library(foreign)
library(car)
library(tidyverse)
library(readstata13)
library(sandwich)
library(stargazer)
library(WDI)
library(haven)
library(ggplot2)
setwd("~/Desktop/econ42/final")
# turn off scientific notation except for big numbers
options(scipen = 9)
# function to calculate corrected SEs for regression
cse = function(reg) {
rob = sqrt(diag(vcovHC(reg, type = "HC1")))
return(rob)
}
df <- read.csv("http://www.stern.nyu.edu/~wgreene/Text/Edition7/TableF5-1.csv")
df <- df %>% rename(labor_force_part=LFP)
#==============================================================================
#   3. Analysis section
#==============================================================================
#Descriptive Statistics of Dataset
stargazer(df, type="text", median=TRUE,
digits=2, title="Household Statistics")
#Plot 1
ggplot(data=df, aes(x=FAMINC)) +
geom_histogram()+
labs(x="Family Income",title="Family Income Distribution")
#Plot 2
ggplot(data=df, aes(x=factor(labor_force_part), y=FAMINC)) +
geom_boxplot()+
labs(x="Wife's Labor Participation", y = "Family Income",
title="Family income if wife works VS. wife doesn't work")
#Plot 3
ggplot(data=df, aes(x=factor(KL6), y=FAMINC)) +
geom_boxplot()+
labs(x="Number of kids below 6 years old", y = "Family Income",
title="Kids below 6 years old on Family Income")
#Plot 4
ggplot(data=df, aes(x=factor(K618), y=FAMINC)) +
geom_boxplot()+
labs(x="Number of kids between 6 years old and 18 years old", y = "Family Income",
title="Kids between 6 and 18 on Family Income")
#Plot 5
ggplot(data=df, aes(x=factor(WE), y=FAMINC)) +
geom_boxplot()+
labs(x="Wife Education Level in Years", y = "Family Income",
title="Wife's Education on Family Income")
#Plot 6
ggplot(data=df, aes(x=factor(HE), y=FAMINC)) +
geom_boxplot()+
labs(x="Husband Education Level in Years", y = "Family Income",
title="Husband Education on Family Income")
#Regressions for regression table 1
reg1 = lm(data=subset(df, labor_force_part==0),log(FAMINC)~KL6+K618)
reg2 = lm(data=subset(df, labor_force_part==0),log(FAMINC)~KL6+K618+HE)
reg3 = lm(data=subset(df, labor_force_part==0),log(FAMINC)~KL6+K618+HE+UN)
reg4 = lm(data=subset(df, labor_force_part==0),log(FAMINC)~KL6+K618+HE+UN+CIT)
#Regression table 1
stargazer(reg1, reg2, reg3,reg4,
se=list(cse(reg1),cse(reg2),cse(reg3),cse(reg4)),
title="Log-linear Multivariable Linear Regression with labor_force_part=0", type="text",
df=FALSE, digits=4)
#Regressions for regression table 2
reg5 = lm(data=subset(df, labor_force_part==1),log(FAMINC)~KL6+K618+HE+WE+CIT)
reg6 = lm(data=subset(df, labor_force_part==1),log(FAMINC)~KL6+K618+HE+WE+CIT+AX+WE*AX)
#Regression table 2
stargazer(reg5, reg6,
se=list(cse(reg5),cse(reg6)),
title="Log-linear  Multivariable Linear Regression with labor_force_part=1 including Interaction Term", type="text",
df=FALSE, digits=4)
#Regression table 1
stargazer(reg1, reg2, reg3,reg4,
se=list(cse(reg1),cse(reg2),cse(reg3),cse(reg4)),
title="Log-linear Multivariable Linear Regression with labor_force_part=0", type="text",
df=FALSE, digits=4)
